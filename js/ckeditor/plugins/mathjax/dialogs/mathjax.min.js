"use strict";CKEDITOR.dialog.add("mathjax",function(editor){var preview,lang=editor.lang.mathjax;return{title:lang.title,minWidth:350,minHeight:100,contents:[{id:"info",elements:[{id:"equation",type:"textarea",label:lang.dialogInput,onLoad:function(){var that=this;CKEDITOR.env.ie&&8==CKEDITOR.env.version||this.getInputElement().on("keyup",function(){preview.setValue("\\("+that.getInputElement().getValue()+"\\)")})},setup:function(widget){if(this.setValue(CKEDITOR.plugins.mathjax.trim(widget.data.math)),"x = \\dfrac{-b \\pm \\sqrt{b^2-4ac}}{2a}"===this.getInputElement().getValue()){var that=document.getElementById(this.getInputElement().$.id);that.focus(),that.select()}},commit:function(widget){widget.setData("math","\\("+this.getValue()+"\\)")}},{id:"documentation",type:"html",html:'<div style="width:100%;text-align:right;margin:-8px 0 10px"><a class="cke_mathjax_doc" href="'+lang.docUrl+'" target="_blank" style="cursor:pointer;color:#00B2CE;text-decoration:underline">'+lang.docLabel+"</a></div>"},!(CKEDITOR.env.ie&&8==CKEDITOR.env.version)&&{id:"preview",type:"html",html:'<div style="width:100%;text-align:center;"><iframe style="border:0;width:0;height:0;font-size:20px" scrolling="no" frameborder="0" allowTransparency="true" src="'+CKEDITOR.plugins.mathjax.fixSrc+'"></iframe></div>',onLoad:function(){var iFrame=CKEDITOR.document.getById(this.domId).getChild(0);preview=new CKEDITOR.plugins.mathjax.frameWrapper(iFrame,editor)},setup:function(widget){preview.setValue(widget.data.math)}}]}]}});